<!doctype html>
<!-- This site was created with Hugo Blox. https://hugoblox.com -->
<!-- Last Published: December 3, 2025 --><html lang="en-us" dir="ltr"
      data-wc-theme-default="dark">
  
<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="generator" content="Hugo Blox Builder 0.3.1" />

  
  












  
  
  
  
  
    
    
    
  
  

  <meta name="author" content="Ayantika Khanra" />

  
  
  
    
  
  <meta name="description" content="1. Dataset description The Instacart Market Basket Analysis dataset is a publicly available dataset released by Instacart through Kaggle. It contains anonymized detailed data on 3 million grocery orders made by users on Instacart’s platform. Here are the CSV files it comes with, and the columns of data contained in them:
" />

  
  <link rel="alternate" hreflang="en-us" href="http://localhost:1313/project/adventureworks_excel_dashboard/" />

  
  
  
  
    
    <link rel="stylesheet" href="/css/themes/emerald.min.css" />
  

  
  
    
    <link href="/dist/wc.min.css" rel="stylesheet" />
  

  
  
  

  
    
    <link href="/css/custom.min.c7af2ad5620b33a6c1d20dcbeec6ff1b2948a012e3104ce7df990144ed5900ae.css" rel="stylesheet" />
  

  <script>
     
    window.hbb = {
       defaultTheme: document.documentElement.dataset.wcThemeDefault,
       setDarkTheme: () => {
        document.documentElement.classList.add("dark");
        document.documentElement.style.colorScheme = "dark";
      },
       setLightTheme: () => {
        document.documentElement.classList.remove("dark");
        document.documentElement.style.colorScheme = "light";
      }
    }

    console.debug(`Default Hugo Blox Builder theme is ${window.hbb.defaultTheme}`);

    if ("wc-color-theme" in localStorage) {
      localStorage.getItem("wc-color-theme") === "dark" ? window.hbb.setDarkTheme() : window.hbb.setLightTheme();
    } else {
      window.hbb.defaultTheme === "dark" ? window.hbb.setDarkTheme() : window.hbb.setLightTheme();
      if (window.hbb.defaultTheme === "system") {
        window.matchMedia("(prefers-color-scheme: dark)").matches ? window.hbb.setDarkTheme() : window.hbb.setLightTheme();
      }
    }
  </script>

  <script>
    
    document.addEventListener('DOMContentLoaded', function () {
      
      let checkboxes = document.querySelectorAll('li input[type=\'checkbox\'][disabled]');
      checkboxes.forEach(e => {
        e.parentElement.parentElement.classList.add('task-list');
      });

      
      const liNodes = document.querySelectorAll('.task-list li');
      liNodes.forEach(nodes => {
        let textNodes = Array.from(nodes.childNodes).filter(node => node.nodeType === 3 && node.textContent.trim().length > 1);
        if (textNodes.length > 0) {
          const span = document.createElement('label');
          textNodes[0].after(span);  
          span.appendChild(nodes.querySelector('input[type=\'checkbox\']'));
          span.appendChild(textNodes[0]);
        }
      });
    });
  </script>

  
  
  




































  
  

  
  <link rel="icon" type="image/png" href="/media/icon_hu_5cac115d14ed3d49.png" />
  <link rel="apple-touch-icon" type="image/png" href="/media/icon_hu_e7f327b39c12e7ca.png" />

  <link rel="canonical" href="http://localhost:1313/project/adventureworks_excel_dashboard/" />

  
  
  
  
  
  
  
  
    
    
  
  

  
  
    
    
  
  <meta property="twitter:card" content="summary" />
  
    <meta property="twitter:site" content="@GetResearchDev" />
    <meta property="twitter:creator" content="@GetResearchDev" />
  
  <meta property="og:site_name" content="Ayantika Khanra | Personal Site" />
  <meta property="og:url" content="http://localhost:1313/project/adventureworks_excel_dashboard/" />
  <meta property="og:title" content="Exploratory data analysis of the Instacart Dataset | Ayantika Khanra | Personal Site" />
  <meta property="og:description" content="
1. Dataset description
The Instacart Market Basket Analysis dataset is a publicly available dataset released by Instacart through Kaggle. It contains anonymized detailed data on 3 million grocery orders made by users on Instacart’s platform. Here are the CSV files it comes with, and the columns of data contained in them:" /><meta property="og:image" content="http://localhost:1313/media/icon_hu_645fa481986063ef.png" />
    <meta property="twitter:image" content="http://localhost:1313/media/icon_hu_645fa481986063ef.png" /><meta property="og:locale" content="en-us" />
  
    
    
  

  


    









<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "Article",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "http://localhost:1313/project/adventureworks_excel_dashboard/"
  },
  "headline": "Exploratory data analysis of the Instacart Dataset",
  
  "datePublished": "0001-01-01T00:00:00Z",
  "dateModified": "0001-01-01T00:00:00Z",
  
  "author": {
    "@type": "Person",
    "name": "Ayantika Khanra"
  },
  
  "publisher": {
    "@type": "Organization",
    "name": "Ayantika Khanra | Personal Site",
    "logo": {
      "@type": "ImageObject",
      "url": "http://localhost:1313/media/icon_hu_1df060215326dd50.png"
    }
  },
  "description": "\u003cstyle\u003e\r\n  body {\r\n    font-size: 1rem;\r\n    line-height: 1.4;\r\n  }\r\n\r\n  h1, h2, h3, h4 {\r\n    font-size: 1.2rem;\r\n    line-height: 1.2;\r\n  }\r\n\r\n  p {\r\n    font-size: 1rem;\r\n    line-height: 1.4;\r\n    margin-bottom: 0.8rem;\r\n  }\r\n  ul, ol {\r\n    font-size: 1rem;\r\n    line-height: 1.4;\r\n    margin-left: 1.5rem;\r\n  }\r\n\r\n  li {\r\n    margin-bottom: 0.4rem;\r\n  }\r\n\r\n  .highlight pre,\r\n  .chroma pre,\r\n  pre code {\r\n    font-size: 0.8rem;   /* smaller font size */\r\n    line-height: 1.1;    /* optional: adjust line spacing */\r\n  }\r\n\r\nimg {\r\n    display: block;   /* ensures it behaves like a block element */\r\n    margin-top: 0 !important;\r\n    margin-bottom: 0 !important;\r\n}\r\n\r\npre + img,\r\np + img,\r\ndiv + img {\r\n    margin-top: 0 !important;\r\n    margin-bottom: 0 !important;\r\n}\r\n\r\n\u003c/style\u003e\r\n\u003ch3 id=\"1-dataset-description\"\u003e1. Dataset description\u003c/h3\u003e\n\u003cp\u003eThe Instacart Market Basket Analysis dataset is a publicly available dataset released by Instacart through Kaggle. It contains anonymized detailed data on 3 million grocery orders made by users on Instacart’s platform. Here are the CSV files it comes with, and the columns of data contained in them:\u003c/p\u003e"
}
</script>

  

  


  <title>Exploratory data analysis of the Instacart Dataset | Ayantika Khanra | Personal Site</title>

  
  
  
  
  
    
    
  
  
  <style>
    @font-face {
      font-family: 'Inter var';
      font-style: normal;
      font-weight: 100 900;
      font-display: swap;
      src: url(/dist/font/Inter.var.woff2) format(woff2);
    }
  </style>

  

  
  


  
  
  
  
  
  
  
  
    
      
      
        
        
          
        
          
        
          
        
          
        
          
        
        
        
      
    
  
    
      
      
        
        
          
        
          
        
          
        
          
        
          
        
        
        
      
    
      
      
        
        
          
        
          
        
          
        
          
        
          
        
        
        
      
    
      
      
        
        
          
        
          
        
          
        
          
        
          
        
        
        
      
    
      
      
        
        
          
        
          
        
          
        
          
        
          
        
        
        
      
    
  
    
      
      
        
        
          
        
          
        
          
        
          
        
          
        
        
        
      
    
      
      
        
        
          
        
          
        
          
        
          
        
          
        
        
        
      
    
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  







<link type="text/css" rel="stylesheet" href="/dist/pagefind/pagefind-ui.be766eb419317a14ec769d216e9779bfe8f3737c80e780f4ba0dafb57a41a482.css" integrity="sha256-vnZutBkxehTsdp0hbpd5v&#43;jzc3yA54D0ug2vtXpBpII=" />


<script src="/dist/pagefind/pagefind-ui.87693d7c6f2b3b347ce359d0ede762c033419f0a32b22ce508c335a81d841f1b.js" integrity="sha256-h2k9fG8rOzR841nQ7ediwDNBnwoysizlCMM1qB2EHxs="></script>


<script>window.hbb.pagefind = {"baseUrl":"/"};</script>

<style>
  html.dark {
    --pagefind-ui-primary: #eeeeee;
    --pagefind-ui-text: #eeeeee;
    --pagefind-ui-background: #152028;
    --pagefind-ui-border: #152028;
    --pagefind-ui-tag: #152028;
  }
</style>

<script>
  window.addEventListener('DOMContentLoaded', (event) => {
    new PagefindUI({
      element: "#search",
      showSubResults: true,
      baseUrl: window.hbb.pagefind.baseUrl,
      bundlePath: window.hbb.pagefind.baseUrl + "pagefind/",
    });
  });
  document.addEventListener('DOMContentLoaded', () => {
    let element = document.getElementById('search');
    let trigger = document.getElementById('search_toggle');

    if (trigger) {
      trigger.addEventListener('click', () => {
        element.classList.toggle('hidden');
        element.querySelector("input").value = ""
        element.querySelector("input").focus()

        if (!element.classList.contains('hidden')) {
          let clear_trigger = document.querySelector('.pagefind-ui__search-clear');

          if (clear_trigger && !clear_trigger.hasAttribute('listenerOnClick')) {
            clear_trigger.setAttribute('listenerOnClick', 'true');

            clear_trigger.addEventListener('click', () => {
              element.classList.toggle('hidden');
            });
          }
        }

      });
    }
  });
</script>










  
  
  <link type="text/css" rel="stylesheet" href="/dist/lib/katex/katex.min.505d5f829022bb7b4f24dfee0aa1141cd7bba67afe411d1240335f820960b5c3.css" integrity="sha256-UF1fgpAiu3tPJN/uCqEUHNe7pnr&#43;QR0SQDNfgglgtcM=" />
  
  
  <script defer src="/dist/lib/katex/katex.min.dc84b296ec3e884de093158f760fd9d45b6c7abe58b5381557f4e138f46a58ae.js" integrity="sha256-3ISyluw&#43;iE3gkxWPdg/Z1Ftser5YtTgVV/ThOPRqWK4="></script>
  
  
  
  
  <script defer src="/js/katex-renderer.6579ec9683211cfb952064aedf3a3baea5eeb17a061775b32b70917474637c80.js" integrity="sha256-ZXnsloMhHPuVIGSu3zo7rqXusXoGF3WzK3CRdHRjfIA="></script>
  
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  






  
  
  
  
  
  
  
  <script
    defer
    src="/js/hugo-blox-en.min.js"
    integrity=""
  ></script>

  
  








  
    
      
      <script async defer src="https://buttons.github.io/buttons.js"></script>

      
    
  




</head>

  <body class="dark:bg-hb-dark dark:text-white page-wrapper" id="top">
    <div id="page-bg"></div>
    <div class="page-header sticky top-0 z-30">
      
      
      
        
        
        
          <header id="site-header" class="header">
  <nav class="navbar px-3 flex justify-left">
    <div class="order-0 h-100">
      
      <a class="navbar-brand" href="/" title="Ayantika Khanra | Personal Site">
        Ayantika Khanra
      </a>
    </div>
    
    <input id="nav-toggle" type="checkbox" class="hidden" />
    <label
      for="nav-toggle"
      class="order-3 cursor-pointer flex items-center lg:hidden text-dark dark:text-white lg:order-1">
      <svg id="show-button" class="h-6 fill-current block" viewBox="0 0 20 20">
        <title>Open Menu</title>
        <path d="M0 3h20v2H0V3z m0 6h20v2H0V9z m0 6h20v2H0V0z"></path>
      </svg>
      <svg id="hide-button" class="h-6 fill-current hidden" viewBox="0 0 20 20">
        <title>Close Menu</title>
        <polygon
          points="11 9 22 9 22 11 11 11 11 22 9 22 9 11 -2 11 -2 9 9 9 9 -2 11 -2"
          transform="rotate(45 10 10)"></polygon>
      </svg>
    </label>
    

    
    
    <ul
      id="nav-menu"
      class="navbar-nav order-3 hidden lg:flex w-full pb-6 lg:order-1 lg:w-auto lg:space-x-2 lg:pb-0 xl:space-x-8 justify-left
      ">
      
      
      
      
      
      
      <li class="nav-item">
        <a
          class="nav-link "
          
          href="/"
        >Bio</a
        >
      </li>
      
      
      
      
      
      
      <li class="nav-item">
        <a
          class="nav-link "
          
          href="/experience/"
        >Experience</a
        >
      </li>
      
      
      
      
      
      
      <li class="nav-item">
        <a
          class="nav-link "
          
          href="/project2"
        >Projects</a
        >
      </li>
      
      
      
    </ul>

    <div class="order-1 ml-auto flex items-center md:order-2 lg:ml-0">

      
      
      
      <button
        aria-label="search"
        class="text-black hover:text-primary  inline-block px-3 text-xl dark:text-white"
        id="search_toggle">
        <svg xmlns="http://www.w3.org/2000/svg" height="16" width="16" viewBox="0 0 512 512" fill="currentColor"><path d="M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z"/></svg>
      </button>
      

      
      
      <div class="px-3 text-black hover:text-primary-700 dark:text-white dark:hover:text-primary-300
            [&.active]:font-bold [&.active]:text-black/90 dark:[&.active]:text-white">
        <button class="theme-toggle mt-1" accesskey="t" title="appearance">
          <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
               fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
               stroke-linejoin="round" class="dark:hidden">
            <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
          </svg>
          <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
               fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
               stroke-linejoin="round" class=" dark:block [&:not(dark)]:hidden">
            <circle cx="12" cy="12" r="5"></circle>
            <line x1="12" y1="1" x2="12" y2="3"></line>
            <line x1="12" y1="21" x2="12" y2="23"></line>
            <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
            <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
            <line x1="1" y1="12" x2="3" y2="12"></line>
            <line x1="21" y1="12" x2="23" y2="12"></line>
            <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
            <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
          </svg>
        </button>
      </div>
      

      
      

      
      
    </div>
  </nav>
</header>


<div id="search" class="hidden p-3"></div>


        
      
    </div>
    <div class="page-body  my-10">
      





<div class="mx-auto flex max-w-screen-xl">
  



<aside class="hb-sidebar-container max-lg:[transform:translate3d(0,-100%,0)] lg:hidden xl:block">
  
  <div class="px-4 pt-4 lg:hidden">
    
    
  </div>
  <div class="hb-scrollbar lg:h-[calc(100vh-var(--navbar-height))]">
    <ul class="flex flex-col gap-1 lg:hidden">
      
      
        <li class="open"><a
    class="hb-sidebar-custom-link
      text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-primary-800 dark:hover:text-gray-50"
    href="/project/"
    
  >Projects
        <span data-hb-sidebar-toggle>
            <svg fill="none" viewBox="0 0 24 24" stroke="currentColor" class="h-[18px] min-w-[18px] rounded-sm p-0.5 hover:bg-gray-800/5 dark:hover:bg-gray-100/5"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" class="origin-center transition-transform rtl:-rotate-180"></path></svg>
        </span>
    </a><div class="ltr:pr-0 overflow-hidden">
        <ul class="hb-sidebar-list"><li class="flex flex-col "><a
    class="hb-sidebar-custom-link
      text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-primary-800 dark:hover:text-gray-50"
    href="/project/pharmacy_dashboard/"
    
  >Dashboard for sales in a Pharmacy
    </a>
              
            </li><li class="flex flex-col open"><a
    class="hb-sidebar-custom-link
      sidebar-active-item bg-primary-100 font-semibold text-primary-800 dark:bg-primary-300 dark:text-primary-900"
    href="/project/adventureworks_excel_dashboard/"
    
  >Exploratory data analysis of the Instacart Dataset
    </a>
  
    <ul class="hb-sidebar-mobile-toc"><li>
              <a
                href="#"
                class="hb-docs-link"
              ></a>
            </li>
          </ul>
  
              
            </li><li class="flex flex-col "><a
    class="hb-sidebar-custom-link
      text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-primary-800 dark:hover:text-gray-50"
    href="/project/instacart_dataset_eda/"
    
  >Exploratory data analysis of the Instacart Dataset
    </a>
              
            </li><li class="flex flex-col "><a
    class="hb-sidebar-custom-link
      text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-primary-800 dark:hover:text-gray-50"
    href="/project/instacart_dataset_market_basket/"
    
  >Market Basket Analysis of the Instacart Dataset using Association Rule Mining
    </a>
              
            </li></ul>
      </div></li>
        <li class=""><a
    class="hb-sidebar-custom-link
      text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-primary-800 dark:hover:text-gray-50"
    href="/projects/"
    
  >Projects2
    </a></li>
        <li class=""><a
    class="hb-sidebar-custom-link
      text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-primary-800 dark:hover:text-gray-50"
    href="/experience/"
    
  >Experience
    </a></li>
        <li class=""><a
    class="hb-sidebar-custom-link
      text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-primary-800 dark:hover:text-gray-50"
    href="/project2/"
    
  >
    </a></li>
    </ul>

    <div class="max-xl:hidden h-0 w-64 shrink-0"></div></div>

</aside>
  

<nav class="hb-toc order-last hidden w-64 shrink-0 xl:block print:hidden px-4" aria-label="table of contents">
  











  <div class="hb-scrollbar text-sm [hyphens:auto] sticky top-16 overflow-y-auto pr-4 pt-6 max-h-[calc(100vh-var(--navbar-height)-env(safe-area-inset-bottom))] -mr-4 rtl:-ml-4"><p class="mb-4 font-semibold tracking-tight">On this page</p><ul>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="pl-4 rtl:pr-4 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 w-full break-words" href="#1-dataset-description">1. Dataset description</a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="pl-4 rtl:pr-4 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 w-full break-words" href="#2-creating-postgres-database">2. Creating Postgres Database</a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="pl-4 rtl:pr-4 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 w-full break-words" href="#3-a-basic-analysis-of-customer-purchase-data">3. A basic analysis of customer purchase data</a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 w-full break-words" href="#31-top-products-aisles-and-departments-by-order-volume">3.1 Top Products, Aisles, and Departments by Order Volume</a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 w-full break-words" href="#32-histogram-of-total-number-of-orders-placed-by-each-user-basket-size-and-days-since-previous-order">3.2 Histogram of total number of orders placed by each user, basket size and days since previous order</a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 w-full break-words" href="#33-customer-reordering-behaviour">3.3 Customer reordering behaviour</a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="pl-4 rtl:pr-4 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 w-full break-words" href="#4-seasonality-in-orders">4. Seasonality in Orders</a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 w-full break-words" href="#41-weekly-and-daily-variations-in-order-volume">4.1 Weekly and Daily Variations in Order Volume</a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 w-full break-words" href="#42-weekly-and-daily-variations-in-basket-size">4.2 Weekly and Daily Variations in Basket Size</a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 w-full break-words" href="#43-weekly-and-daily-variations-in-order-volume-in-different-departments">4.3 Weekly and Daily Variations in Order Volume in Different Departments</a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 w-full break-words" href="#44-variation-in-reorder-ratio">4.4 Variation in Reorder Ratio</a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 w-full break-words" href="#45-variation-of-order-volume-throughout-the-year">4.5 Variation of order volume throughout the year</a>
      </li></ul>

  
  
    
    
  



    












  </div>
  </nav>


  <article class="w-full break-words flex min-h-[calc(100vh-var(--navbar-height))] min-w-0 justify-center pb-8 pr-[calc(env(safe-area-inset-right)-1.5rem)]">
    <main class="w-full min-w-0 max-w-6xl px-6 pt-4 md:px-12">

      

      <h1 class="mt-2 text-4xl font-bold tracking-tight text-slate-900 dark:text-slate-100">Exploratory data analysis of the Instacart Dataset</h1>

      <div class="mt-4 mb-16">
      <div class="text-gray-500 dark:text-gray-300 text-sm flex items-center flex-wrap gap-y-2">
        
          
          
          <div class="group inline-flex items-center text-current gap-x-1.5 mx-1">
            
            
            <img src="/author/ayantika-khanra/avatar_hu_853d2d91a2fd0134.webp" alt="Ayantika Khanra" class="inline-block h-4 w-4 rounded-full border border-current" loading="lazy" />
            
            <div >Ayantika Khanra</div>
          </div>
          
        

        
        <span class="mx-1">·</span>
        <span class="mx-1">
          12 min read
        </span>
        
        </div>

        <div class="mt-3">
          





        </div>
      </div>



      
      
      

      
      

      <div class="prose prose-slate lg:prose-xl dark:prose-invert">
        <style>
  body {
    font-size: 1rem;
    line-height: 1.4;
  }

  h1, h2, h3, h4 {
    font-size: 1.2rem;
    line-height: 1.2;
  }

  p {
    font-size: 1rem;
    line-height: 1.4;
    margin-bottom: 0.8rem;
  }
  ul, ol {
    font-size: 1rem;
    line-height: 1.4;
    margin-left: 1.5rem;
  }

  li {
    margin-bottom: 0.4rem;
  }

  .highlight pre,
  .chroma pre,
  pre code {
    font-size: 0.8rem;   /* smaller font size */
    line-height: 1.1;    /* optional: adjust line spacing */
  }

img {
    display: block;   /* ensures it behaves like a block element */
    margin-top: 0 !important;
    margin-bottom: 0 !important;
}

pre + img,
p + img,
div + img {
    margin-top: 0 !important;
    margin-bottom: 0 !important;
}

</style>
<h3 id="1-dataset-description">1. Dataset description</h3>
<p>The Instacart Market Basket Analysis dataset is a publicly available dataset released by Instacart through Kaggle. It contains anonymized detailed data on 3 million grocery orders made by users on Instacart’s platform. Here are the CSV files it comes with, and the columns of data contained in them:</p>
<figure class="round"><img src="/images/instacart/Instacart045539.png">
</figure>

<p>Note, the primary key for each table is shown in yellow highlights.</p>
<h3 id="2-creating-postgres-database">2. Creating Postgres Database</h3>
<p>Because of RAM limitations, instead of loading the entire dataset in Python, I created a PostgreSQL database named <code>instacart</code> using pgAdmin. Using the GUI, I created the following tables: <code>products</code>, <code>aisles</code>, <code>departments</code>, <code>orders</code>, <code>order_products__train</code>, <code>order_products__prior</code>, set the column names, and imported the CSV files into the tables. Then I added primary and foreign key constraints in the tables, and created a view called <code>order_products__all</code> that combining train and prior order tables. <code>order_products__all</code> was used during the data analysis, not the prior and train datasets separately.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-SQL" data-lang="SQL"><span class="line"><span class="cl"><span class="c1">-- Adding primary key constraints to aisles, departments and orders table
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">ALTER</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">aisles</span><span class="w"> </span><span class="k">ADD</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="n">aisle_id</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">ALTER</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">departments</span><span class="w"> </span><span class="k">ADD</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="n">department_id</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">ALTER</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">orders</span><span class="w"> </span><span class="k">ADD</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="n">order_id</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">-- Adding primary key and foreign key constraints to products table
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">ALTER</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">products</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">ADD</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="n">product_id</span><span class="p">),</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">ADD</span><span class="w"> </span><span class="k">CONSTRAINT</span><span class="w"> </span><span class="n">fk_products_aisles_aisle_id</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="n">aisle_id</span><span class="p">)</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">REFERENCES</span><span class="w"> </span><span class="n">aisles</span><span class="p">(</span><span class="n">aisle_id</span><span class="p">),</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">ADD</span><span class="w"> </span><span class="k">CONSTRAINT</span><span class="w"> </span><span class="n">fk_products_departments_department_id</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="n">department_id</span><span class="p">)</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">REFERENCES</span><span class="w"> </span><span class="n">departments</span><span class="p">(</span><span class="n">department_id</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">-- Adding composite primary key and foreign key constraints to order_products__prior  table
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">ALTER</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">order_products__prior</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">ADD</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="n">order_id</span><span class="p">,</span><span class="w"> </span><span class="n">product_id</span><span class="p">),</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">ADD</span><span class="w"> </span><span class="k">CONSTRAINT</span><span class="w"> </span><span class="n">fk_products_ordPrior_product_id</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="n">product_id</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">REFERENCES</span><span class="w"> </span><span class="n">products</span><span class="p">(</span><span class="n">product_id</span><span class="p">),</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">ADD</span><span class="w"> </span><span class="k">CONSTRAINT</span><span class="w"> </span><span class="n">fk_ordPrior_orders_orderid</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="n">order_id</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">REFERENCES</span><span class="w"> </span><span class="n">orders</span><span class="p">(</span><span class="n">order_id</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">-- Adding composite primary key and foreign key constraints to order_products__train  table
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">ALTER</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">order_products__train</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">ADD</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="n">order_id</span><span class="p">,</span><span class="w"> </span><span class="n">product_id</span><span class="p">),</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">ADD</span><span class="w"> </span><span class="k">CONSTRAINT</span><span class="w"> </span><span class="n">fk_products_ordTrain_product_id</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="n">product_id</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">REFERENCES</span><span class="w"> </span><span class="n">products</span><span class="p">(</span><span class="n">product_id</span><span class="p">),</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">ADD</span><span class="w"> </span><span class="k">CONSTRAINT</span><span class="w"> </span><span class="n">fk_ordTrain_orders_orderid</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="n">order_id</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">REFERENCES</span><span class="w"> </span><span class="n">orders</span><span class="p">(</span><span class="n">order_id</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">-- Creating a view combining orders in prior and train tables for ease of querying
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">CREATE</span><span class="w"> </span><span class="k">VIEW</span><span class="w"> </span><span class="n">order_products__all</span><span class="w"> </span><span class="k">AS</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">order_products__train</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">UNION</span><span class="w"> </span><span class="k">ALL</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">order_products__prior</span><span class="p">;</span><span class="w">
</span></span></span></code></pre></div><p>All tables were complete with no missing (NULL) values. The only column containing Null values was <code>days_since_prior_order</code> for each user’s first order, and this was appropriately handled during analysis.</p>
<p>The entity relationship diagram of the created database is shown below:</p>
<figure class="round"><img src="/images/instacart/instacart184806.png">
</figure>

<p>To query the dataset from Python, I used SQLAlchemy to connect to the PostgreSQL server as follows:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">sqlalchemy</span> <span class="kn">import</span> <span class="n">create_engine</span>
</span></span><span class="line"><span class="cl"><span class="n">engine</span> <span class="o">=</span> <span class="n">create_engine</span><span class="p">(</span><span class="s2">&#34;postgresql://username:password@localhost:5432/instacart&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">query</span><span class="o">=</span><span class="s2">&#34;SELECT .... FROM ..........&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_sql</span><span class="p">(</span><span class="n">query</span><span class="p">,</span> <span class="n">engine</span><span class="p">);</span> 
</span></span></code></pre></div><h3 id="3-a-basic-analysis-of-customer-purchase-data">3. A basic analysis of customer purchase data</h3>
<h4 id="31-top-products-aisles-and-departments-by-order-volume">3.1 Top Products, Aisles, and Departments by Order Volume</h4>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">query</span> <span class="o">=</span><span class="s2">&#34;&#34;&#34;
</span></span></span><span class="line"><span class="cl"><span class="s2">SELECT p.product_name, d.department, a.aisle, 
</span></span></span><span class="line"><span class="cl"><span class="s2">       COUNT(p.product_name) AS number_of_orders
</span></span></span><span class="line"><span class="cl"><span class="s2">FROM order_products__all AS ot
</span></span></span><span class="line"><span class="cl"><span class="s2">LEFT JOIN products AS p
</span></span></span><span class="line"><span class="cl"><span class="s2">       ON p.product_id=ot.product_id
</span></span></span><span class="line"><span class="cl"><span class="s2">LEFT JOIN departments AS d
</span></span></span><span class="line"><span class="cl"><span class="s2">       ON d.department_id=p.department_id
</span></span></span><span class="line"><span class="cl"><span class="s2">LEFT JOIN aisles AS a
</span></span></span><span class="line"><span class="cl"><span class="s2">       ON a.aisle_id=p.aisle_id
</span></span></span><span class="line"><span class="cl"><span class="s2">GROUP BY d.department, a.aisle, p.product_name 
</span></span></span><span class="line"><span class="cl"><span class="s2">ORDER BY number_of_orders desc
</span></span></span><span class="line"><span class="cl"><span class="s2">&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl"><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_sql</span><span class="p">(</span><span class="n">query</span><span class="p">,</span> <span class="n">engine</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Top 25 ordered product name</span>
</span></span><span class="line"><span class="cl"><span class="n">sns</span><span class="o">.</span><span class="n">barplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">25</span><span class="p">],</span><span class="n">y</span><span class="o">=</span><span class="s1">&#39;product_name&#39;</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s1">&#39;number_of_orders&#39;</span><span class="p">,</span> <span class="n">hue</span><span class="o">=</span><span class="s1">&#39;department&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Top 25 departments by order volume</span>
</span></span><span class="line"><span class="cl"><span class="n">df_grouped</span><span class="o">=</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;department&#39;</span><span class="p">)[</span><span class="s1">&#39;number_of_orders&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">            <span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">reset_index</span><span class="p">())</span>
</span></span><span class="line"><span class="cl"><span class="n">sns</span><span class="o">.</span><span class="n">barplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">df_grouped</span><span class="p">,</span><span class="n">y</span><span class="o">=</span><span class="s1">&#39;department&#39;</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s1">&#39;number_of_orders&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Top 25 aisles by order volume</span>
</span></span><span class="line"><span class="cl"><span class="n">df_grouped</span><span class="o">=</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s1">&#39;aisle&#39;</span><span class="p">,</span> <span class="s1">&#39;department&#39;</span><span class="p">])[</span><span class="s1">&#39;number_of_orders&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">            <span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">reset_index</span><span class="p">())</span>
</span></span><span class="line"><span class="cl"><span class="n">sns</span><span class="o">.</span><span class="n">barplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">df_grouped</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">20</span><span class="p">],</span><span class="n">y</span><span class="o">=</span><span class="s1">&#39;aisle&#39;</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s1">&#39;number_of_orders&#39;</span><span class="p">,</span> <span class="n">hue</span><span class="o">=</span><span class="s1">&#39;department&#39;</span><span class="p">)</span>
</span></span></code></pre></div><figure class="round"><img src="/images/instacart/instacart212602.png">
</figure>

<p><img src="/images/instacart/instacart215516.png" 
style="width:75%; border-radius:12px; display:block; margin:0 auto;" /></p>
<div class="alert alert-tip">
  <div class="alert-header">
    
      <span class="alert-icon"><svg class='alert-icon' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'><path fill='#28a745' d='m17.989,4.341l-1.709-1.041L18.266.04l1.709,1.041-1.985,3.26Zm5.161.206l-3.331,1.504.822,1.822,3.331-1.504-.822-1.822Zm-5.54,1.75c1.541,1.517,2.39,3.542,2.39,5.703,0,2.295-.99,4.481-2.718,5.999-.814.717-1.282,1.833-1.282,3.064v2.937h-8v-3.07c0-1.155-.453-2.211-1.244-2.897-1.836-1.593-2.838-3.898-2.75-6.326.149-4.179,3.675-7.636,7.858-7.705,2.15-.042,4.205.779,5.746,2.296Zm-3.61,14.767c0-.362.036-.716.092-1.063h-4.169c.046.305.077.614.077.93v1.07h4v-.937Zm4-9.063c0-1.621-.637-3.141-1.793-4.277-1.155-1.138-2.691-1.751-4.31-1.722-3.138.052-5.781,2.644-5.894,5.777-.065,1.82.687,3.549,2.062,4.744.481.417.879.919,1.188,1.478h1.745v-4.184c-1.161-.414-2-1.514-2-2.816h2c0,.552.448,1,1,1s1-.448,1-1h2c0,1.302-.839,2.402-2,2.816v4.184h1.767c.312-.569.713-1.079,1.195-1.503,1.295-1.139,2.038-2.777,2.038-4.497ZM7.725,3.3L5.739.04l-1.709,1.041,1.985,3.26,1.709-1.041ZM.854,4.547L.032,6.369l3.33,1.504.822-1.822-3.33-1.504Z'/></svg></span>
    
    
      <span class="alert-title">Insight</span>
    
  </div>
  <div class="alert-content">
    <ul>
<li><code>Banana</code>, <code>Strawberry</code>, <code>Spinach</code> and <code>Avocado</code> are the most purchased items.</li>
<li><code>Produce</code>, <code>Dairy eggs</code> and <code>Snacks</code> are top 3 departments with the highest order volumes.</li>
<li>Top aisles by order volume were <code>Fresh fruits</code>, <code>Fresh vegetables</code>, and <code>Packaged vegetable fruits</code> from produce department;  <code>Yoghurt</code>, <code>Packaged cheese</code> and <code>milk</code> from dairy eggs department.</li>
</ul>

  </div>
</div>

<h4 id="32-histogram-of-total-number-of-orders-placed-by-each-user-basket-size-and-days-since-previous-order">3.2 Histogram of total number of orders placed by each user, basket size and days since previous order</h4>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="c1"># Histogram of total number of orders placed by each user</span>
</span></span><span class="line"><span class="cl"><span class="n">query</span> <span class="o">=</span><span class="s2">&#34;&#34;&#34;
</span></span></span><span class="line"><span class="cl"><span class="s2">SELECT COUNT(order_id) AS ordercount
</span></span></span><span class="line"><span class="cl"><span class="s2">FROM orders
</span></span></span><span class="line"><span class="cl"><span class="s2">GROUP BY user_id
</span></span></span><span class="line"><span class="cl"><span class="s2">&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl"><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_sql</span><span class="p">(</span><span class="n">query</span><span class="p">,</span> <span class="n">engine</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">fig</span><span class="p">,</span> <span class="n">axes</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">14</span><span class="p">,</span><span class="mi">4</span><span class="p">))</span> 
</span></span><span class="line"><span class="cl"><span class="n">sns</span><span class="o">.</span><span class="n">histplot</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;ordercount&#39;</span><span class="p">],</span><span class="n">ax</span><span class="o">=</span><span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Histogram of basket size</span>
</span></span><span class="line"><span class="cl"><span class="n">query</span> <span class="o">=</span><span class="s2">&#34;&#34;&#34;
</span></span></span><span class="line"><span class="cl"><span class="s2">WITH number_of_products_per_order AS (
</span></span></span><span class="line"><span class="cl"><span class="s2">SELECT order_id, COUNT(product_id) AS basket_size 
</span></span></span><span class="line"><span class="cl"><span class="s2">FROM order_products__all
</span></span></span><span class="line"><span class="cl"><span class="s2">GROUP BY order_id
</span></span></span><span class="line"><span class="cl"><span class="s2">)
</span></span></span><span class="line"><span class="cl"><span class="s2">SELECT basket_size, COUNT(order_id) AS count 
</span></span></span><span class="line"><span class="cl"><span class="s2">FROM number_of_products_per_order
</span></span></span><span class="line"><span class="cl"><span class="s2">GROUP BY basket_size
</span></span></span><span class="line"><span class="cl"><span class="s2">ORDER BY basket_size
</span></span></span><span class="line"><span class="cl"><span class="s2">&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl"><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_sql</span><span class="p">(</span><span class="n">query</span><span class="p">,</span> <span class="n">engine</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">df</span><span class="o">=</span><span class="n">df</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s1">&#39;basket_size&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">reindex</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="n">df</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">max</span><span class="p">()</span><span class="o">+</span><span class="mi">1</span><span class="p">))</span>
</span></span><span class="line"><span class="cl"><span class="n">ax</span><span class="o">=</span><span class="n">sns</span><span class="o">.</span><span class="n">barplot</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;count&#39;</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s1">&#39;basket_size&#39;</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">axes</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Histogram of  days since previous order</span>
</span></span><span class="line"><span class="cl"><span class="n">query</span> <span class="o">=</span><span class="s2">&#34;&#34;&#34;
</span></span></span><span class="line"><span class="cl"><span class="s2">SELECT days_since_prior_order, 
</span></span></span><span class="line"><span class="cl"><span class="s2">       COUNT(*) AS count 
</span></span></span><span class="line"><span class="cl"><span class="s2">FROM orders
</span></span></span><span class="line"><span class="cl"><span class="s2">GROUP BY days_since_prior_order
</span></span></span><span class="line"><span class="cl"><span class="s2">&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl"><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_sql</span><span class="p">(</span><span class="n">query</span><span class="p">,</span> <span class="n">engine</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">df</span><span class="p">[</span><span class="s1">&#39;days_since_prior_order&#39;</span><span class="p">]</span><span class="o">=</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;days_since_prior_order&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s1">&#39;Int64&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">sns</span><span class="o">.</span><span class="n">barplot</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;count&#39;</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s1">&#39;days_since_prior_order&#39;</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">axes</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
</span></span></code></pre></div><figure class="round"><img src="/images/instacart/instacart005158.png">
</figure>

<div class="alert alert-tip">
  <div class="alert-header">
    
      <span class="alert-icon"><svg class='alert-icon' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'><path fill='#28a745' d='m17.989,4.341l-1.709-1.041L18.266.04l1.709,1.041-1.985,3.26Zm5.161.206l-3.331,1.504.822,1.822,3.331-1.504-.822-1.822Zm-5.54,1.75c1.541,1.517,2.39,3.542,2.39,5.703,0,2.295-.99,4.481-2.718,5.999-.814.717-1.282,1.833-1.282,3.064v2.937h-8v-3.07c0-1.155-.453-2.211-1.244-2.897-1.836-1.593-2.838-3.898-2.75-6.326.149-4.179,3.675-7.636,7.858-7.705,2.15-.042,4.205.779,5.746,2.296Zm-3.61,14.767c0-.362.036-.716.092-1.063h-4.169c.046.305.077.614.077.93v1.07h4v-.937Zm4-9.063c0-1.621-.637-3.141-1.793-4.277-1.155-1.138-2.691-1.751-4.31-1.722-3.138.052-5.781,2.644-5.894,5.777-.065,1.82.687,3.549,2.062,4.744.481.417.879.919,1.188,1.478h1.745v-4.184c-1.161-.414-2-1.514-2-2.816h2c0,.552.448,1,1,1s1-.448,1-1h2c0,1.302-.839,2.402-2,2.816v4.184h1.767c.312-.569.713-1.079,1.195-1.503,1.295-1.139,2.038-2.777,2.038-4.497ZM7.725,3.3L5.739.04l-1.709,1.041,1.985,3.26,1.709-1.041ZM.854,4.547L.032,6.369l3.33,1.504.822-1.822-3.33-1.504Z'/></svg></span>
    
    
      <span class="alert-title">Insight</span>
    
  </div>
  <div class="alert-content">
    <ul>
<li>The number of orders per user ranges from 4 to 100, with the highest frequency at 4 orders.</li>
<li>Basket sizes range from 1 to 112 items, with orders containing 5 products having the highest occurrence.</li>
<li>Days since the previous order peaks at 7, indicating a weekly ordering pattern in many users. This variable is capped at 30 days.</li>
</ul>

  </div>
</div>

<h4 id="33-customer-reordering-behaviour">3.3 Customer reordering behaviour</h4>
<p>The reorder ratio tells us how often customers repurchase products they’ve bought before. It is calculated by dividing the number of items reordered to the total number of items in a basket (or a set of baskets).</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="c1"># Querying the top 25 aisles by reorder rate, and creating a barplot visualization</span>
</span></span><span class="line"><span class="cl"><span class="n">query</span><span class="o">=</span><span class="s2">&#34;&#34;&#34;
</span></span></span><span class="line"><span class="cl"><span class="s2">SELECT d.department, a.aisle, 
</span></span></span><span class="line"><span class="cl"><span class="s2">       CAST(SUM(ot.reordered) AS FLOAT) / COUNT(*)  AS reorder_rate
</span></span></span><span class="line"><span class="cl"><span class="s2">FROM order_products__all AS ot
</span></span></span><span class="line"><span class="cl"><span class="s2">LEFT JOIN orders AS o
</span></span></span><span class="line"><span class="cl"><span class="s2">       ON o.order_id = ot.order_id
</span></span></span><span class="line"><span class="cl"><span class="s2">LEFT JOIN products AS p
</span></span></span><span class="line"><span class="cl"><span class="s2">       ON p.product_id = ot.product_id
</span></span></span><span class="line"><span class="cl"><span class="s2">LEFT JOIN departments AS d
</span></span></span><span class="line"><span class="cl"><span class="s2">       ON d.department_id = p.department_id
</span></span></span><span class="line"><span class="cl"><span class="s2">LEFT JOIN aisles AS a
</span></span></span><span class="line"><span class="cl"><span class="s2">       ON a.aisle_id = p.aisle_id
</span></span></span><span class="line"><span class="cl"><span class="s2">WHERE o.order_number &gt; 1 # In 1st order of an user all value of `reordered` 
</span></span></span><span class="line"><span class="cl"><span class="s2">                         # column is zero, thus is was excluded
</span></span></span><span class="line"><span class="cl"><span class="s2">GROUP BY d.department, a.aisle
</span></span></span><span class="line"><span class="cl"><span class="s2">ORDER BY reorder_rate desc;&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl"><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_sql</span><span class="p">(</span><span class="n">query</span><span class="p">,</span> <span class="n">engine</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">sns</span><span class="o">.</span><span class="n">barplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">25</span><span class="p">],</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;merged_aisle_dept&#39;</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s1">&#39;reorder_rate&#39;</span><span class="p">,</span> <span class="n">hue</span><span class="o">=</span><span class="s1">&#39;department&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Plotting if reordered_ratio of items vary by the sequence in which it’s added to the cart</span>
</span></span><span class="line"><span class="cl"><span class="n">query</span><span class="o">=</span><span class="s2">&#34;&#34;&#34;
</span></span></span><span class="line"><span class="cl"><span class="s2">SELECT ot.add_to_cart_order, 
</span></span></span><span class="line"><span class="cl"><span class="s2">       CAST(SUM(ot.reordered) AS FLOAT) / COUNT(*)  AS reorder_rate
</span></span></span><span class="line"><span class="cl"><span class="s2">FROM order_products__all AS ot
</span></span></span><span class="line"><span class="cl"><span class="s2">LEFT JOIN orders AS o
</span></span></span><span class="line"><span class="cl"><span class="s2">       ON o.order_id = ot.order_id
</span></span></span><span class="line"><span class="cl"><span class="s2">WHERE o.order_number &gt; 1
</span></span></span><span class="line"><span class="cl"><span class="s2">GROUP BY ot.add_to_cart_order
</span></span></span><span class="line"><span class="cl"><span class="s2">ORDER BY reorder_rate desc
</span></span></span><span class="line"><span class="cl"><span class="s2">&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl"><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_sql</span><span class="p">(</span><span class="n">query</span><span class="p">,</span> <span class="n">engine</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">sns</span><span class="o">.</span><span class="n">lineplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">df</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s1">&#39;add_to_cart_order&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;reorder_rate&#39;</span><span class="p">)</span>
</span></span></code></pre></div><figure class="round"><img src="/images/instacart/instacart041406.png">
</figure>

<div class="alert alert-tip">
  <div class="alert-header">
    
      <span class="alert-icon"><svg class='alert-icon' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'><path fill='#28a745' d='m17.989,4.341l-1.709-1.041L18.266.04l1.709,1.041-1.985,3.26Zm5.161.206l-3.331,1.504.822,1.822,3.331-1.504-.822-1.822Zm-5.54,1.75c1.541,1.517,2.39,3.542,2.39,5.703,0,2.295-.99,4.481-2.718,5.999-.814.717-1.282,1.833-1.282,3.064v2.937h-8v-3.07c0-1.155-.453-2.211-1.244-2.897-1.836-1.593-2.838-3.898-2.75-6.326.149-4.179,3.675-7.636,7.858-7.705,2.15-.042,4.205.779,5.746,2.296Zm-3.61,14.767c0-.362.036-.716.092-1.063h-4.169c.046.305.077.614.077.93v1.07h4v-.937Zm4-9.063c0-1.621-.637-3.141-1.793-4.277-1.155-1.138-2.691-1.751-4.31-1.722-3.138.052-5.781,2.644-5.894,5.777-.065,1.82.687,3.549,2.062,4.744.481.417.879.919,1.188,1.478h1.745v-4.184c-1.161-.414-2-1.514-2-2.816h2c0,.552.448,1,1,1s1-.448,1-1h2c0,1.302-.839,2.402-2,2.816v4.184h1.767c.312-.569.713-1.079,1.195-1.503,1.295-1.139,2.038-2.777,2.038-4.497ZM7.725,3.3L5.739.04l-1.709,1.041,1.985,3.26,1.709-1.041ZM.854,4.547L.032,6.369l3.33,1.504.822-1.822-3.33-1.504Z'/></svg></span>
    
    
      <span class="alert-title">Insight</span>
    
  </div>
  <div class="alert-content">
    <ul>
<li>Aisles in Dairy, Eggs, Beverages, Produce, and Bakery departments have high reorder rates. Aisles such as White Wines, Energy Sports Drinks, Cat Food, Prepared Meals, and Trail Mix/Snacks, show high reorder rates despite not being among the top 50 in terms of order volume. This indicates strong brand loyalty of customers towards products in these aisles.</li>
<li>Items that are heavily reordered are generally added to the cart earlier.</li>
</ul>

  </div>
</div>

<h3 id="4-seasonality-in-orders">4. Seasonality in Orders</h3>
<p>To understand seasonal purchasing patterns, I analyze product purchase variation with:</p>
<ul>
<li><strong>Hour of the day</strong></li>
<li><strong>Day of the week</strong></li>
<li><strong>Week of the year:</strong> not directly available in this dataset. However, a proxy can be inferred from the <code>days since prior order</code> column to approximate yearly buying trends.</li>
</ul>
<h4 id="41-weekly-and-daily-variations-in-order-volume">4.1 Weekly and Daily Variations in Order Volume</h4>
<p>To understand how order volume varies across different times, I queried the database and created visualizations by day of week and hour of day, as follows:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="c1"># Query: total orders per day of week &amp; hour of day</span>
</span></span><span class="line"><span class="cl"><span class="n">query</span> <span class="o">=</span><span class="s2">&#34;&#34;&#34;
</span></span></span><span class="line"><span class="cl"><span class="s2">SELECT order_dow AS day_of_the_week, 
</span></span></span><span class="line"><span class="cl"><span class="s2">       order_hour_of_day, 
</span></span></span><span class="line"><span class="cl"><span class="s2">       COUNT(order_id) AS number_of_orders_placed 
</span></span></span><span class="line"><span class="cl"><span class="s2">FROM orders
</span></span></span><span class="line"><span class="cl"><span class="s2">GROUP BY order_dow, order_hour_of_day
</span></span></span><span class="line"><span class="cl"><span class="s2">&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl"><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_sql</span><span class="p">(</span><span class="n">query</span><span class="p">,</span> <span class="n">engine</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Map numeric days to day names</span>
</span></span><span class="line"><span class="cl"><span class="n">day_of_week_dict</span><span class="o">=</span><span class="p">{</span><span class="mi">0</span><span class="p">:</span> <span class="s1">&#39;Sun&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">:</span> <span class="s1">&#39;Mon&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">:</span> <span class="s1">&#39;Tue&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">:</span> <span class="s1">&#39;Wed&#39;</span><span class="p">,</span> <span class="mi">4</span><span class="p">:</span> <span class="s1">&#39;Thu&#39;</span><span class="p">,</span> <span class="mi">5</span><span class="p">:</span> <span class="s1">&#39;Fri&#39;</span><span class="p">,</span> <span class="mi">6</span><span class="p">:</span> <span class="s1">&#39;Sat&#39;</span><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="n">df</span><span class="p">[</span><span class="s1">&#39;day_of_the_week&#39;</span><span class="p">]</span><span class="o">=</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;day_of_the_week&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">day_of_week_dict</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Visualization 1. Orders across hours, split by weekday</span>
</span></span><span class="line"><span class="cl"><span class="n">grouped_data_dow</span><span class="o">=</span><span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;day_of_the_week&#39;</span><span class="p">)[</span><span class="s1">&#39;number_of_orders_placed&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="n">sns</span><span class="o">.</span><span class="n">barplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">grouped_data_dow</span> <span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s1">&#39;day_of_the_week&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;number_of_orders_placed&#39;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">            <span class="n">hue</span><span class="o">=</span><span class="s1">&#39;day_of_the_week&#39;</span><span class="p">,</span> <span class="n">palette</span><span class="o">=</span><span class="s1">&#39;viridis&#39;</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Visualization 2. Orders by weekday</span>
</span></span><span class="line"><span class="cl"><span class="n">fig</span><span class="p">,</span> <span class="n">axes</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">14</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span> 
</span></span><span class="line"><span class="cl"><span class="n">sns</span><span class="o">.</span><span class="n">lineplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">df</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s2">&#34;order_hour_of_day&#34;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s2">&#34;number_of_orders_placed&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">             <span class="n">hue</span><span class="o">=</span><span class="s2">&#34;day_of_the_week&#34;</span><span class="p">,</span> <span class="n">palette</span><span class="o">=</span><span class="s1">&#39;viridis&#39;</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span>  <span class="n">ax</span><span class="o">=</span><span class="n">axes</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</span></span></code></pre></div><p style="color: gray; font-size: 0.6em;">
For readability, portions of the visualization code (axis labeling, legends, etc.) has been omitted.
</p>
<figure class="round"><img src="/images/instacart/instacart230131.png">
</figure>

<div class="alert alert-tip">
  <div class="alert-header">
    
      <span class="alert-icon"><svg class='alert-icon' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'><path fill='#28a745' d='m17.989,4.341l-1.709-1.041L18.266.04l1.709,1.041-1.985,3.26Zm5.161.206l-3.331,1.504.822,1.822,3.331-1.504-.822-1.822Zm-5.54,1.75c1.541,1.517,2.39,3.542,2.39,5.703,0,2.295-.99,4.481-2.718,5.999-.814.717-1.282,1.833-1.282,3.064v2.937h-8v-3.07c0-1.155-.453-2.211-1.244-2.897-1.836-1.593-2.838-3.898-2.75-6.326.149-4.179,3.675-7.636,7.858-7.705,2.15-.042,4.205.779,5.746,2.296Zm-3.61,14.767c0-.362.036-.716.092-1.063h-4.169c.046.305.077.614.077.93v1.07h4v-.937Zm4-9.063c0-1.621-.637-3.141-1.793-4.277-1.155-1.138-2.691-1.751-4.31-1.722-3.138.052-5.781,2.644-5.894,5.777-.065,1.82.687,3.549,2.062,4.744.481.417.879.919,1.188,1.478h1.745v-4.184c-1.161-.414-2-1.514-2-2.816h2c0,.552.448,1,1,1s1-.448,1-1h2c0,1.302-.839,2.402-2,2.816v4.184h1.767c.312-.569.713-1.079,1.195-1.503,1.295-1.139,2.038-2.777,2.038-4.497ZM7.725,3.3L5.739.04l-1.709,1.041,1.985,3.26,1.709-1.041ZM.854,4.547L.032,6.369l3.33,1.504.822-1.822-3.33-1.504Z'/></svg></span>
    
    
      <span class="alert-title">Insight</span>
    
  </div>
  <div class="alert-content">
    Orders peak on <strong>Sundays and Mondays</strong>, especially <strong>Sunday evenings</strong> and <strong>Monday mornings</strong>. Across all days, most purchases occur between <strong>9 AM – 4 PM.</strong>
  </div>
</div>

<h4 id="42-weekly-and-daily-variations-in-basket-size">4.2 Weekly and Daily Variations in Basket Size</h4>
<p>Here I queried the database to calculate the average number of products bought per order across different days of the week and hours of the day.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="c1"># CTE to calculate number of products per order</span>
</span></span><span class="line"><span class="cl"><span class="n">query_cte</span><span class="o">=</span><span class="s2">&#34;&#34;&#34;
</span></span></span><span class="line"><span class="cl"><span class="s2">WITH cte_product_count AS (
</span></span></span><span class="line"><span class="cl"><span class="s2">   SELECT COUNT(ot.product_id) AS num_of_product_bought, 
</span></span></span><span class="line"><span class="cl"><span class="s2">          o.order_dow AS order_dow
</span></span></span><span class="line"><span class="cl"><span class="s2">   FROM order_products__all AS ot
</span></span></span><span class="line"><span class="cl"><span class="s2">   LEFT JOIN orders AS o
</span></span></span><span class="line"><span class="cl"><span class="s2">          ON ot.order_id=o.order_id
</span></span></span><span class="line"><span class="cl"><span class="s2">   GROUP BY o.order_id
</span></span></span><span class="line"><span class="cl"><span class="s2">)
</span></span></span><span class="line"><span class="cl"><span class="s2">&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Querying average basket size by day of the week</span>
</span></span><span class="line"><span class="cl"><span class="n">query</span><span class="o">=</span><span class="n">query_cte</span><span class="o">+</span><span class="s2">&#34;&#34;&#34;
</span></span></span><span class="line"><span class="cl"><span class="s2">SELECT order_dow AS day_of_the_week, 
</span></span></span><span class="line"><span class="cl"><span class="s2">       AVG(num_of_product_bought) AS avg_num_of_product_bought
</span></span></span><span class="line"><span class="cl"><span class="s2">FROM cte_product_count
</span></span></span><span class="line"><span class="cl"><span class="s2">GROUP BY order_dow
</span></span></span><span class="line"><span class="cl"><span class="s2">ORDER BY order_dow ASC
</span></span></span><span class="line"><span class="cl"><span class="s2">&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl"><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_sql</span><span class="p">(</span><span class="n">query</span><span class="p">,</span> <span class="n">engine</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Barplot visualization</span>
</span></span><span class="line"><span class="cl"><span class="n">fig</span><span class="p">,</span> <span class="n">axes</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">14</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>  
</span></span><span class="line"><span class="cl"><span class="n">sns</span><span class="o">.</span><span class="n">barplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">df</span> <span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s1">&#39;day_of_the_week&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;avg_num_of_product_bought&#39;</span><span class="p">,</span>              
</span></span><span class="line"><span class="cl">            <span class="n">hue</span><span class="o">=</span><span class="s1">&#39;day_of_the_week&#39;</span><span class="p">,</span> <span class="n">palette</span><span class="o">=</span><span class="s1">&#39;viridis&#39;</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Querying average basket size by day of the week and hour of day</span>
</span></span><span class="line"><span class="cl"><span class="n">query</span> <span class="o">=</span><span class="n">query_cte</span><span class="o">+</span><span class="s2">&#34;&#34;&#34;
</span></span></span><span class="line"><span class="cl"><span class="s2">SELECT order_dow AS day_of_the_week, 
</span></span></span><span class="line"><span class="cl"><span class="s2">       order_hour_of_day, 
</span></span></span><span class="line"><span class="cl"><span class="s2">       avg(num_of_product_bought) AS avg_num_of_product_bought
</span></span></span><span class="line"><span class="cl"><span class="s2">FROM cte_product_count
</span></span></span><span class="line"><span class="cl"><span class="s2">GROUP BY order_dow, order_hour_of_day
</span></span></span><span class="line"><span class="cl"><span class="s2">ORDER BY order_dow ASC&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl"><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_sql</span><span class="p">(</span><span class="n">query</span><span class="p">,</span> <span class="n">engine</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Scale hourly basket sizes vs hour of days plots for easier comparison</span>
</span></span><span class="line"><span class="cl"><span class="n">df</span><span class="p">[</span><span class="s1">&#39;scaled_avg_num_of_product_bought&#39;</span><span class="p">]</span><span class="o">=</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;day_of_the_week&#39;</span><span class="p">)[</span><span class="s1">&#39;avg_num_of_product_bought&#39;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">                                        <span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">/</span><span class="n">x</span><span class="o">.</span><span class="n">max</span><span class="p">()))</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># line plot visualization</span>
</span></span><span class="line"><span class="cl"><span class="n">df</span><span class="p">[</span><span class="s1">&#39;day_of_the_week&#39;</span><span class="p">]</span><span class="o">=</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;day_of_the_week&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">day_of_week_dict</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">sns</span><span class="o">.</span><span class="n">lineplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">df</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s2">&#34;order_hour_of_day&#34;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s2">&#34;scaled_avg_num_of_product_bought&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">             <span class="n">hue</span><span class="o">=</span><span class="s1">&#39;day_of_the_week&#39;</span><span class="p">,</span> <span class="n">palette</span><span class="o">=</span><span class="s1">&#39;viridis&#39;</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">axes</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</span></span></code></pre></div><figure class="round"><img src="/images/instacart/Instacart040511.png">
</figure>

<div class="alert alert-tip">
  <div class="alert-header">
    
      <span class="alert-icon"><svg class='alert-icon' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'><path fill='#28a745' d='m17.989,4.341l-1.709-1.041L18.266.04l1.709,1.041-1.985,3.26Zm5.161.206l-3.331,1.504.822,1.822,3.331-1.504-.822-1.822Zm-5.54,1.75c1.541,1.517,2.39,3.542,2.39,5.703,0,2.295-.99,4.481-2.718,5.999-.814.717-1.282,1.833-1.282,3.064v2.937h-8v-3.07c0-1.155-.453-2.211-1.244-2.897-1.836-1.593-2.838-3.898-2.75-6.326.149-4.179,3.675-7.636,7.858-7.705,2.15-.042,4.205.779,5.746,2.296Zm-3.61,14.767c0-.362.036-.716.092-1.063h-4.169c.046.305.077.614.077.93v1.07h4v-.937Zm4-9.063c0-1.621-.637-3.141-1.793-4.277-1.155-1.138-2.691-1.751-4.31-1.722-3.138.052-5.781,2.644-5.894,5.777-.065,1.82.687,3.549,2.062,4.744.481.417.879.919,1.188,1.478h1.745v-4.184c-1.161-.414-2-1.514-2-2.816h2c0,.552.448,1,1,1s1-.448,1-1h2c0,1.302-.839,2.402-2,2.816v4.184h1.767c.312-.569.713-1.079,1.195-1.503,1.295-1.139,2.038-2.777,2.038-4.497ZM7.725,3.3L5.739.04l-1.709,1.041,1.985,3.26,1.709-1.041ZM.854,4.547L.032,6.369l3.33,1.504.822-1.822-3.33-1.504Z'/></svg></span>
    
    
      <span class="alert-title">Insight</span>
    
  </div>
  <div class="alert-content">
    <ul>
<li>The average basket size ranges between <strong>9–11 products</strong>.</li>
<li><strong>Friday through Monday</strong> customers purchase with higher-than-average basket sizes, with <strong>Sunday with the largest average basket sizes</strong>.</li>
<li>On all days, customers purchase with larger basket sizes during <strong>late-night hours (10 PM – 1 AM)</strong>. On Friday to Monday, a second peak in basket sizes appears in <strong>morning around 9 AM</strong>.</li>
</ul>

  </div>
</div>

<h4 id="43-weekly-and-daily-variations-in-order-volume-in-different-departments">4.3 Weekly and Daily Variations in Order Volume in Different Departments</h4>
<p>To understand customer purchasing patterns across product categories, I analyzed how the number of purchases varies by day of the week and by department. I normalized the purchase counts for comparison across departments</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="c1"># Query the count of purchases by department, aisle, and day of week</span>
</span></span><span class="line"><span class="cl"><span class="n">query</span><span class="o">=</span><span class="s2">&#34;&#34;&#34;
</span></span></span><span class="line"><span class="cl"><span class="s2">SELECT COUNT(p.product_id) AS number_of_purchase, 
</span></span></span><span class="line"><span class="cl"><span class="s2">       a.aisle AS aisle, 
</span></span></span><span class="line"><span class="cl"><span class="s2">       d.department AS department,
</span></span></span><span class="line"><span class="cl"><span class="s2">       o.order_dow AS day_of_week
</span></span></span><span class="line"><span class="cl"><span class="s2">FROM order_products__all AS ot
</span></span></span><span class="line"><span class="cl"><span class="s2">LEFT JOIN orders AS o
</span></span></span><span class="line"><span class="cl"><span class="s2">       ON ot.order_id=o.order_id
</span></span></span><span class="line"><span class="cl"><span class="s2">LEFT JOIN products AS p
</span></span></span><span class="line"><span class="cl"><span class="s2">       ON p.product_id=ot.product_id
</span></span></span><span class="line"><span class="cl"><span class="s2">LEFT JOIN aisles AS a
</span></span></span><span class="line"><span class="cl"><span class="s2">       ON p.aisle_id = a.aisle_id
</span></span></span><span class="line"><span class="cl"><span class="s2">LEFT JOIN departments AS d
</span></span></span><span class="line"><span class="cl"><span class="s2">       ON d.department_id = p.department_id
</span></span></span><span class="line"><span class="cl"><span class="s2">GROUP BY d.department, a.aisle, o.order_dow
</span></span></span><span class="line"><span class="cl"><span class="s2">&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl"><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_sql</span><span class="p">(</span><span class="n">query</span><span class="p">,</span> <span class="n">engine</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Normalize purchase count plots</span>
</span></span><span class="line"><span class="cl"><span class="n">df</span><span class="p">[</span><span class="s1">&#39;norm_number_of_purchase&#39;</span><span class="p">]</span><span class="o">=</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;aisle&#39;</span><span class="p">)[</span><span class="s1">&#39;number_of_purchase&#39;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">                               <span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">/</span><span class="n">x</span><span class="o">.</span><span class="n">mean</span><span class="p">()))</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Grouping departments in 4 categories and </span>
</span></span><span class="line"><span class="cl"><span class="c1">#creating visualizations with departmentwise grouping</span>
</span></span><span class="line"><span class="cl"><span class="n">department_groups</span><span class="o">=</span><span class="p">[[</span><span class="s1">&#39;produce&#39;</span><span class="p">,</span><span class="s1">&#39;deli&#39;</span><span class="p">,</span><span class="s1">&#39;dairy eggs&#39;</span><span class="p">,</span><span class="s1">&#39;canned goods&#39;</span><span class="p">,</span><span class="s1">&#39;meat seafood&#39;</span><span class="p">,</span><span class="s1">&#39;missing&#39;</span><span class="p">,</span><span class="s1">&#39;dry goods pasta&#39;</span><span class="p">,</span><span class="s1">&#39;pantry&#39;</span><span class="p">,</span><span class="s1">&#39;frozen&#39;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">                   <span class="p">[</span><span class="s1">&#39;other&#39;</span><span class="p">,</span> <span class="s1">&#39;pets&#39;</span><span class="p">,</span><span class="s1">&#39;household&#39;</span><span class="p">,</span><span class="s1">&#39;babies&#39;</span><span class="p">,</span><span class="s1">&#39;personal care&#39;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">                   <span class="p">[</span><span class="s1">&#39;beverages&#39;</span><span class="p">,</span><span class="s1">&#39;breakfast&#39;</span><span class="p">,</span><span class="s1">&#39;snacks&#39;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">                   <span class="p">[</span><span class="s1">&#39;alcohol&#39;</span><span class="p">]];</span>
</span></span><span class="line"><span class="cl"><span class="n">fig</span><span class="p">,</span> <span class="n">axes</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">department_groups</span><span class="p">),</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">14</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span> 
</span></span><span class="line"><span class="cl"><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">department_groups</span><span class="p">)):</span>
</span></span><span class="line"><span class="cl">    <span class="n">sns</span><span class="o">.</span><span class="n">lineplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">df</span><span class="p">[(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;department&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">department_groups</span><span class="p">[</span><span class="n">i</span><span class="p">]))],</span> 
</span></span><span class="line"><span class="cl">                 <span class="n">x</span><span class="o">=</span><span class="s2">&#34;day_of_week&#34;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s2">&#34;norm_number_of_purchase&#34;</span><span class="p">,</span> <span class="n">hue</span><span class="o">=</span><span class="s2">&#34;department&#34;</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">axes</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
</span></span></code></pre></div><figure class="round"><img src="/images/instacart/Instacart040647.png">
</figure>

<p>By replacing <code>order_dow</code> with <code>order_hour_of_day</code>, the same code can be used to analyze order volume across hours of the day.</p>
<figure class="round"><img src="/images/instacart/Instacart040718.png">
</figure>

<div class="alert alert-tip">
  <div class="alert-header">
    
      <span class="alert-icon"><svg class='alert-icon' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'><path fill='#28a745' d='m17.989,4.341l-1.709-1.041L18.266.04l1.709,1.041-1.985,3.26Zm5.161.206l-3.331,1.504.822,1.822,3.331-1.504-.822-1.822Zm-5.54,1.75c1.541,1.517,2.39,3.542,2.39,5.703,0,2.295-.99,4.481-2.718,5.999-.814.717-1.282,1.833-1.282,3.064v2.937h-8v-3.07c0-1.155-.453-2.211-1.244-2.897-1.836-1.593-2.838-3.898-2.75-6.326.149-4.179,3.675-7.636,7.858-7.705,2.15-.042,4.205.779,5.746,2.296Zm-3.61,14.767c0-.362.036-.716.092-1.063h-4.169c.046.305.077.614.077.93v1.07h4v-.937Zm4-9.063c0-1.621-.637-3.141-1.793-4.277-1.155-1.138-2.691-1.751-4.31-1.722-3.138.052-5.781,2.644-5.894,5.777-.065,1.82.687,3.549,2.062,4.744.481.417.879.919,1.188,1.478h1.745v-4.184c-1.161-.414-2-1.514-2-2.816h2c0,.552.448,1,1,1s1-.448,1-1h2c0,1.302-.839,2.402-2,2.816v4.184h1.767c.312-.569.713-1.079,1.195-1.503,1.295-1.139,2.038-2.777,2.038-4.497ZM7.725,3.3L5.739.04l-1.709,1.041,1.985,3.26,1.709-1.041ZM.854,4.547L.032,6.369l3.33,1.504.822-1.822-3.33-1.504Z'/></svg></span>
    
    
      <span class="alert-title">Insight</span>
    
  </div>
  <div class="alert-content">
    <p>Looking at order volume by department across the week, the raw plots are hard to interpret because there are 21 departments. By normalizing the data and grouping departments, the following purchasing patterns can be seen</p>
<ul>
<li>Staple goods (<code>produce</code>, <code>dairy eggs</code>, <code>pantry</code>, <code>meat seafood</code>, <code>frozen</code>, <code>deli</code>, <code>canned goods</code>, <code>dry goods pasta</code>) are purchased the <strong>most on Sundays</strong>, with a <strong>~43% midweek dip</strong> in purchase around Thursdays.</li>
<li><code>Household</code>, <code>babies</code>, <code>household</code>, <code>personal care</code>, <code>pet</code> departments also see <strong>purchase peak on Sundays</strong>, but the <strong>midweek drop</strong> around Thursday is smaller <strong>~25%</strong>.</li>
<li><code>beverages</code>, <code>breakfast</code>, <code>snacks</code> departments show a purchase <strong>peak on Monday</strong> instead, with a secondary peak on Fridays.</li>
<li><code>Alcohol</code> purchase pattern is very different with purchases <strong>peak on Fridays</strong>, and dip on Sundays.</li>
</ul>
<p>From hourly patterns within each department, I observe that across categories, most purchases happen between <strong>9 AM and 4 PM. Within this window,</strong> some more pattern can be seen:</p>
<ul>
<li><code>Beverages</code>, <code>breakfast</code>, <code>snacks</code> department sees a <strong>peak</strong> in purchase in morning around <strong>10 AM</strong>.</li>
<li><code>Produce</code>, <code>dairy eggs</code> and <code>household</code> department sees a <strong>smaller morning peak</strong> in purchase.</li>
<li><code>Bakery</code>, <code>canned goods</code>, <code>deli</code>, <code>meat seafood</code>, <code>pantry</code> and <code>pets</code> shows relatively <strong>flat demand across this time period</strong>.</li>
<li><code>Dry goods pasta</code> &amp; <code>frozen</code> department has a <strong>minor peak</strong> in purchase around <strong>3 PM</strong>.</li>
<li><code>Alcohol</code> department has a <strong>bigger spike</strong> in purchase at <strong>3 PM</strong>.</li>
</ul>
<p><strong>In conclusion most departments see a purchase peak in Sunday, but, <code>beverages</code>, <code>breakfast</code>, <code>snacks</code>, and <code>alcohol</code> are an anomaly: Alcohol → strong Friday + 3 PM peak, and Beverages, breakfast, snacks → 10 AM + Monday and a secondary Friday peak.</strong></p>

  </div>
</div>

<h4 id="44-variation-in-reorder-ratio">4.4 Variation in Reorder Ratio</h4>
<p>Here, the reorder ratio is calculated by dividing the number of reordered items to the total number of items in a set of basket.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="c1"># Querying the database to calculate reorder ratio by day of week and hour of day</span>
</span></span><span class="line"><span class="cl"><span class="n">query</span><span class="o">=</span><span class="s2">&#34;&#34;&#34;
</span></span></span><span class="line"><span class="cl"><span class="s2">SELECT 
</span></span></span><span class="line"><span class="cl"><span class="s2">    o.order_dow AS day_of_week, 
</span></span></span><span class="line"><span class="cl"><span class="s2">    o.order_hour_of_day AS hour_of_day,
</span></span></span><span class="line"><span class="cl"><span class="s2">    SUM(ot.reordered)*1.0 / COUNT(*) AS reorder_ratio
</span></span></span><span class="line"><span class="cl"><span class="s2">FROM order_products__all AS ot
</span></span></span><span class="line"><span class="cl"><span class="s2">LEFT JOIN orders AS o
</span></span></span><span class="line"><span class="cl"><span class="s2">    ON o.order_id = ot.order_id
</span></span></span><span class="line"><span class="cl"><span class="s2">GROUP BY o.order_hour_of_day, o.order_dow
</span></span></span><span class="line"><span class="cl"><span class="s2">&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl"><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_sql</span><span class="p">(</span><span class="n">query</span><span class="p">,</span> <span class="n">engine</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">df</span><span class="p">[</span><span class="s1">&#39;day_of_week&#39;</span><span class="p">]</span><span class="o">=</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;day_of_week&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">day_of_week_dict</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Lineplot visualization</span>
</span></span><span class="line"><span class="cl"><span class="n">sns</span><span class="o">.</span><span class="n">lineplot</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;reorder_ratio&#39;</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s1">&#39;hour_of_day&#39;</span><span class="p">,</span> <span class="n">hue</span><span class="o">=</span><span class="s1">&#39;day_of_week&#39;</span><span class="p">,</span> <span class="n">palette</span><span class="o">=</span><span class="s1">&#39;viridis&#39;</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
</span></span></code></pre></div><p><img src="/images/instacart/Instacart173811.png" 
style="width:50%; border-radius:12px; display:block; margin:0 auto;" /></p>
<div class="alert alert-tip">
  <div class="alert-header">
    
      <span class="alert-icon"><svg class='alert-icon' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'><path fill='#28a745' d='m17.989,4.341l-1.709-1.041L18.266.04l1.709,1.041-1.985,3.26Zm5.161.206l-3.331,1.504.822,1.822,3.331-1.504-.822-1.822Zm-5.54,1.75c1.541,1.517,2.39,3.542,2.39,5.703,0,2.295-.99,4.481-2.718,5.999-.814.717-1.282,1.833-1.282,3.064v2.937h-8v-3.07c0-1.155-.453-2.211-1.244-2.897-1.836-1.593-2.838-3.898-2.75-6.326.149-4.179,3.675-7.636,7.858-7.705,2.15-.042,4.205.779,5.746,2.296Zm-3.61,14.767c0-.362.036-.716.092-1.063h-4.169c.046.305.077.614.077.93v1.07h4v-.937Zm4-9.063c0-1.621-.637-3.141-1.793-4.277-1.155-1.138-2.691-1.751-4.31-1.722-3.138.052-5.781,2.644-5.894,5.777-.065,1.82.687,3.549,2.062,4.744.481.417.879.919,1.188,1.478h1.745v-4.184c-1.161-.414-2-1.514-2-2.816h2c0,.552.448,1,1,1s1-.448,1-1h2c0,1.302-.839,2.402-2,2.816v4.184h1.767c.312-.569.713-1.079,1.195-1.503,1.295-1.139,2.038-2.777,2.038-4.497ZM7.725,3.3L5.739.04l-1.709,1.041,1.985,3.26,1.709-1.041ZM.854,4.547L.032,6.369l3.33,1.504.822-1.822-3.33-1.504Z'/></svg></span>
    
    
      <span class="alert-title">Insight</span>
    
  </div>
  <div class="alert-content">
    Reorders are most <strong>common around 9 AM</strong>, and they <strong>peak on Sundays</strong>.
  </div>
</div>

<h4 id="45-variation-of-order-volume-throughout-the-year">4.5 Variation of order volume throughout the year</h4>
<p>The dataset does not provide exact calendar dates, but it does record the number of days since each customer’s previous order. By cumulatively summing these values within each user’s history, I can approximate a “pseudo-date” for each order:</p>
<p>$\text{rolling\_days}_n = \sum_{i=1}^{n} \text{days\_since\_prior\_order}_i $</p>
<p>To perform this analysis:</p>
<ul>
<li>I have restricted to users with long purchase histories (≥ 359 days).</li>
<li>I have discarded users with any <code>day_since_last_order</code> record of 30 days, as this variable has been capped in this dataset at the value of 30.</li>
<li>Then this was converted to to week numbers =rolling_days/7.</li>
</ul>
<p>These rolling days or week numbers are  not tied to exact calendar months, it only provides a relative measure of long-term purchasing cycles.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="c1"># Calculating &#34;rolling days&#34; for each user</span>
</span></span><span class="line"><span class="cl"><span class="n">query_cte1</span><span class="o">=</span><span class="s2">&#34;&#34;&#34;
</span></span></span><span class="line"><span class="cl"><span class="s2">WITH order_table_with_rolling_days AS (
</span></span></span><span class="line"><span class="cl"><span class="s2">    SELECT 
</span></span></span><span class="line"><span class="cl"><span class="s2">        order_id, user_id, order_number, days_since_prior_order,
</span></span></span><span class="line"><span class="cl"><span class="s2">        SUM(COALESCE(days_since_prior_order, 0)) OVER (
</span></span></span><span class="line"><span class="cl"><span class="s2">            PARTITION BY user_id 
</span></span></span><span class="line"><span class="cl"><span class="s2">            ORDER BY order_number
</span></span></span><span class="line"><span class="cl"><span class="s2">            ROWS BETWEEN UNBOUNDED PRECEDING AND CURRENT ROW
</span></span></span><span class="line"><span class="cl"><span class="s2">        ) AS rolling_days
</span></span></span><span class="line"><span class="cl"><span class="s2">    FROM orders
</span></span></span><span class="line"><span class="cl"><span class="s2">),
</span></span></span><span class="line"><span class="cl"><span class="s2">&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Selecting only users with &gt;359 day of history and no long gaps between orders</span>
</span></span><span class="line"><span class="cl"><span class="n">query_cte2</span><span class="o">=</span><span class="s2">&#34;&#34;&#34;
</span></span></span><span class="line"><span class="cl"><span class="s2">decision_table AS (
</span></span></span><span class="line"><span class="cl"><span class="s2">    SELECT user_id
</span></span></span><span class="line"><span class="cl"><span class="s2">    FROM order_table_with_rolling_days
</span></span></span><span class="line"><span class="cl"><span class="s2">    GROUP BY user_id
</span></span></span><span class="line"><span class="cl"><span class="s2">    HAVING MAX(days_since_prior_order) &lt;30
</span></span></span><span class="line"><span class="cl"><span class="s2">    AND MAX(rolling_days)&gt;359),
</span></span></span><span class="line"><span class="cl"><span class="s2">
</span></span></span><span class="line"><span class="cl"><span class="s2">filtered_order_table_with_rolling_days AS (
</span></span></span><span class="line"><span class="cl"><span class="s2">    SELECT otrd.* 
</span></span></span><span class="line"><span class="cl"><span class="s2">    FROM order_table_with_rolling_days AS otrd
</span></span></span><span class="line"><span class="cl"><span class="s2">    INNER JOIN decision_table AS dt
</span></span></span><span class="line"><span class="cl"><span class="s2">    ON dt.user_id=otrd.user_id)
</span></span></span><span class="line"><span class="cl"><span class="s2">&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl"><span class="c1"># Querying the number of purchse per week number in each aisle</span>
</span></span><span class="line"><span class="cl"><span class="n">query</span><span class="o">=</span> <span class="n">query_cte1</span> <span class="o">+</span> <span class="n">query_cte2</span> <span class="o">+</span> <span class="s2">&#34;&#34;&#34;
</span></span></span><span class="line"><span class="cl"><span class="s2">SELECT d.department, a.aisle, 
</span></span></span><span class="line"><span class="cl"><span class="s2">       CEIL(rolling_days/7) AS week_number, 
</span></span></span><span class="line"><span class="cl"><span class="s2">       COUNT(*) AS number_of_purchase
</span></span></span><span class="line"><span class="cl"><span class="s2">FROM filtered_order_table_with_rolling_days AS o
</span></span></span><span class="line"><span class="cl"><span class="s2">LEFT JOIN order_products__all AS ot
</span></span></span><span class="line"><span class="cl"><span class="s2">    ON ot.order_id=o.order_id
</span></span></span><span class="line"><span class="cl"><span class="s2">JOIN products AS p
</span></span></span><span class="line"><span class="cl"><span class="s2">    ON p.product_id=ot.product_id
</span></span></span><span class="line"><span class="cl"><span class="s2">JOIN departments AS d
</span></span></span><span class="line"><span class="cl"><span class="s2">    ON d.department_id=p.department_id
</span></span></span><span class="line"><span class="cl"><span class="s2">JOIN aisles AS a
</span></span></span><span class="line"><span class="cl"><span class="s2">    ON a.aisle_id=p.aisle_id
</span></span></span><span class="line"><span class="cl"><span class="s2">WHERE CEIL(rolling_days/7)&lt;=51
</span></span></span><span class="line"><span class="cl"><span class="s2">GROUP BY d.department, a.aisle, CEIL(rolling_days/7)
</span></span></span><span class="line"><span class="cl"><span class="s2">&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl"><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_sql</span><span class="p">(</span><span class="n">query</span><span class="p">,</span> <span class="n">engine</span><span class="p">);</span> 
</span></span><span class="line"><span class="cl"><span class="n">df</span><span class="p">[</span><span class="s1">&#39;week_number&#39;</span><span class="p">]</span><span class="o">=</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;week_number&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s1">&#39;int8&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Removed week_number=0, corresponding to rolling day = 0.</span>
</span></span><span class="line"><span class="cl"><span class="c1">#    Because, all users start here, thus it can can give inflated spike</span>
</span></span><span class="line"><span class="cl"><span class="c1"># Removed week_number &gt;= 52 </span>
</span></span><span class="line"><span class="cl"><span class="c1">#    Because beyond 359 days we have incomplete data for some users.</span>
</span></span><span class="line"><span class="cl"><span class="n">df</span><span class="o">=</span><span class="n">df</span><span class="p">[(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;week_number&#39;</span><span class="p">]</span><span class="o">&lt;=</span><span class="mi">51</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;week_number&#39;</span><span class="p">]</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">)]</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Scaling:</span>
</span></span><span class="line"><span class="cl"><span class="c1"># divided purchases of a week in one aisle, by the total number of purchases made in that week</span>
</span></span><span class="line"><span class="cl"><span class="c1"># Divided number of purchase per week plot with the average value</span>
</span></span><span class="line"><span class="cl"><span class="n">df</span><span class="p">[</span><span class="s1">&#39;scaled_number_of_purchase&#39;</span><span class="p">]</span><span class="o">=</span><span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;week_number&#39;</span><span class="p">)[</span><span class="s1">&#39;number_of_purchase&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">/</span><span class="n">x</span><span class="o">.</span><span class="n">sum</span><span class="p">())</span>
</span></span><span class="line"><span class="cl"><span class="n">df</span><span class="p">[</span><span class="s1">&#39;scaled_number_of_purchase&#39;</span><span class="p">]</span><span class="o">=</span><span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;aisle&#39;</span><span class="p">)[</span><span class="s1">&#39;scaled_number_of_purchase&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">/</span><span class="n">x</span><span class="o">.</span><span class="n">mean</span><span class="p">())</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Visualization</span>
</span></span><span class="line"><span class="cl"><span class="n">g</span><span class="o">=</span><span class="n">sns</span><span class="o">.</span><span class="n">relplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">df</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s1">&#39;week_number&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;scaled_number_of_purchase&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">              <span class="n">kind</span><span class="o">=</span><span class="s2">&#34;line&#34;</span><span class="p">,</span> <span class="n">col</span><span class="o">=</span><span class="s2">&#34;aisle&#34;</span><span class="p">,</span> <span class="n">facet_kws</span><span class="o">=</span><span class="p">{</span><span class="s2">&#34;sharey&#34;</span><span class="p">:</span> <span class="kc">False</span><span class="p">})</span>
</span></span></code></pre></div><figure class="round"><img src="/images/instacart/Instacart034656.png">
</figure>

<p>Only the strongest aisle-level patterns are shown here. Full image available <a href="/images/instacart/Instacart_hidden_1.png">here</a></p>
<div class="alert alert-tip">
  <div class="alert-header">
    
      <span class="alert-icon"><svg class='alert-icon' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'><path fill='#28a745' d='m17.989,4.341l-1.709-1.041L18.266.04l1.709,1.041-1.985,3.26Zm5.161.206l-3.331,1.504.822,1.822,3.331-1.504-.822-1.822Zm-5.54,1.75c1.541,1.517,2.39,3.542,2.39,5.703,0,2.295-.99,4.481-2.718,5.999-.814.717-1.282,1.833-1.282,3.064v2.937h-8v-3.07c0-1.155-.453-2.211-1.244-2.897-1.836-1.593-2.838-3.898-2.75-6.326.149-4.179,3.675-7.636,7.858-7.705,2.15-.042,4.205.779,5.746,2.296Zm-3.61,14.767c0-.362.036-.716.092-1.063h-4.169c.046.305.077.614.077.93v1.07h4v-.937Zm4-9.063c0-1.621-.637-3.141-1.793-4.277-1.155-1.138-2.691-1.751-4.31-1.722-3.138.052-5.781,2.644-5.894,5.777-.065,1.82.687,3.549,2.062,4.744.481.417.879.919,1.188,1.478h1.745v-4.184c-1.161-.414-2-1.514-2-2.816h2c0,.552.448,1,1,1s1-.448,1-1h2c0,1.302-.839,2.402-2,2.816v4.184h1.767c.312-.569.713-1.079,1.195-1.503,1.295-1.139,2.038-2.777,2.038-4.497ZM7.725,3.3L5.739.04l-1.709,1.041,1.985,3.26,1.709-1.041ZM.854,4.547L.032,6.369l3.33,1.504.822-1.822-3.33-1.504Z'/></svg></span>
    
    
      <span class="alert-title">Insight</span>
    
  </div>
  <div class="alert-content">
    Even though the “rolling days” metric has uncertainty in exact date, the seasonal patterns are still visible. <strong>Ice cream purchases peak around week 10, which is most likely near summer. In contrast, cold/flu/allergy products, soup &amp; broth, and vitamins &amp; supplements peak around 7 months later, in weeks 38–41, likely near winter.</strong>
  </div>
</div>


      </div>

      <div class="mt-16"></div>

      <div class="container mx-auto prose prose-slate lg:prose-xl dark:prose-invert mt-5">
        
        <div class="max-w-prose print:hidden">
  
  

  

<div class="flex justify-center">
  
  <a class="no-underline bg-primary-100 hover:bg-primary-300 text-primary-800 text-xs font-medium mr-2 px-2.5 py-0.5 lg:px-5 lg:py-2 rounded dark:bg-primary-900 dark:hover:bg-primary-700 dark:text-primary-300" href="/tags/sql/">SQL</a>
  
  <a class="no-underline bg-primary-100 hover:bg-primary-300 text-primary-800 text-xs font-medium mr-2 px-2.5 py-0.5 lg:px-5 lg:py-2 rounded dark:bg-primary-900 dark:hover:bg-primary-700 dark:text-primary-300" href="/tags/postgres-database/">Postgres Database</a>
  
  <a class="no-underline bg-primary-100 hover:bg-primary-300 text-primary-800 text-xs font-medium mr-2 px-2.5 py-0.5 lg:px-5 lg:py-2 rounded dark:bg-primary-900 dark:hover:bg-primary-700 dark:text-primary-300" href="/tags/erd-diagrams/">ERD Diagrams</a>
  
  <a class="no-underline bg-primary-100 hover:bg-primary-300 text-primary-800 text-xs font-medium mr-2 px-2.5 py-0.5 lg:px-5 lg:py-2 rounded dark:bg-primary-900 dark:hover:bg-primary-700 dark:text-primary-300" href="/tags/exploratory-data-analysis/">Exploratory Data Analysis</a>
  
  <a class="no-underline bg-primary-100 hover:bg-primary-300 text-primary-800 text-xs font-medium mr-2 px-2.5 py-0.5 lg:px-5 lg:py-2 rounded dark:bg-primary-900 dark:hover:bg-primary-700 dark:text-primary-300" href="/tags/data-visualization/">Data Visualization</a>
  
  <a class="no-underline bg-primary-100 hover:bg-primary-300 text-primary-800 text-xs font-medium mr-2 px-2.5 py-0.5 lg:px-5 lg:py-2 rounded dark:bg-primary-900 dark:hover:bg-primary-700 dark:text-primary-300" href="/tags/python-pandas-seaborn-sqlalchemy/">Python (Pandas, Seaborn, SQLAlchemy)</a>
  
</div>


  
<section class="flex flex-row flex-wrap justify-center pt-4 text-xl">
  

  
  
  
  
  
  
  <a
    target="_blank" rel="noopener"
    class="m-1 rounded-md bg-neutral-300 p-1.5 text-neutral-700 hover:bg-primary-500 hover:text-neutral-300 dark:bg-neutral-700 dark:text-neutral-300 dark:hover:bg-primary-400 dark:hover:text-neutral-800"
    href="https://twitter.com/intent/tweet?url=http%3A%2F%2Flocalhost%3A1313%2Fproject%2Fadventureworks_excel_dashboard%2F&amp;text=Exploratory&#43;data&#43;analysis&#43;of&#43;the&#43;Instacart&#43;Dataset"
    title="X"
    aria-label="X"
    id="share-link-x"
  >
    <svg style="height: 1em;" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M389.2 48h70.6L305.6 224.2 487 464H345L233.7 318.6 106.5 464H35.8L200.7 275.5 26.8 48H172.4L272.9 180.9 389.2 48zM364.4 421.8h39.1L151.1 88h-42L364.4 421.8z"/></svg>
  </a>
  

  
  
  
  
  
  
  <a
    target="_blank" rel="noopener"
    class="m-1 rounded-md bg-neutral-300 p-1.5 text-neutral-700 hover:bg-primary-500 hover:text-neutral-300 dark:bg-neutral-700 dark:text-neutral-300 dark:hover:bg-primary-400 dark:hover:text-neutral-800"
    href="https://www.facebook.com/sharer.php?u=http%3A%2F%2Flocalhost%3A1313%2Fproject%2Fadventureworks_excel_dashboard%2F&amp;t=Exploratory&#43;data&#43;analysis&#43;of&#43;the&#43;Instacart&#43;Dataset"
    title="Facebook"
    aria-label="Facebook"
    id="share-link-facebook"
  >
    <svg style="height: 1em;" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="currentColor" d="M22 12c0-5.52-4.48-10-10-10S2 6.48 2 12c0 4.84 3.44 8.87 8 9.8V15H8v-3h2V9.5C10 7.57 11.57 6 13.5 6H16v3h-2c-.55 0-1 .45-1 1v2h3v3h-3v6.95c5.05-.5 9-4.76 9-9.95z"/></svg>
  </a>
  

  
  
  
  
  
  
    
  
  <a
    target="_blank" rel="noopener"
    class="m-1 rounded-md bg-neutral-300 p-1.5 text-neutral-700 hover:bg-primary-500 hover:text-neutral-300 dark:bg-neutral-700 dark:text-neutral-300 dark:hover:bg-primary-400 dark:hover:text-neutral-800"
    href="mailto:?subject=Exploratory%20data%20analysis%20of%20the%20Instacart%20Dataset&amp;body=http%3A%2F%2Flocalhost%3A1313%2Fproject%2Fadventureworks_excel_dashboard%2F"
    title="Email"
    aria-label="Email"
    id="share-link-email"
  >
    <svg style="height: 1em;" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-width="1.5" d="M16.5 12a4.5 4.5 0 1 1-9 0a4.5 4.5 0 0 1 9 0Zm0 0c0 1.657 1.007 3 2.25 3S21 13.657 21 12a9 9 0 1 0-2.636 6.364M16.5 12V8.25"/></svg>
  </a>
  

  
  
  
  
  
  
  <a
    target="_blank" rel="noopener"
    class="m-1 rounded-md bg-neutral-300 p-1.5 text-neutral-700 hover:bg-primary-500 hover:text-neutral-300 dark:bg-neutral-700 dark:text-neutral-300 dark:hover:bg-primary-400 dark:hover:text-neutral-800"
    href="https://www.linkedin.com/shareArticle?url=http%3A%2F%2Flocalhost%3A1313%2Fproject%2Fadventureworks_excel_dashboard%2F&amp;title=Exploratory&#43;data&#43;analysis&#43;of&#43;the&#43;Instacart&#43;Dataset"
    title="LinkedIn"
    aria-label="LinkedIn"
    id="share-link-linkedin"
  >
    <svg style="height: 1em;" xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 448 512"><path fill="currentColor" d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"/></svg>
  </a>
  

  
  
  
  
  
  
  <a
    target="_blank" rel="noopener"
    class="m-1 rounded-md bg-neutral-300 p-1.5 text-neutral-700 hover:bg-primary-500 hover:text-neutral-300 dark:bg-neutral-700 dark:text-neutral-300 dark:hover:bg-primary-400 dark:hover:text-neutral-800"
    href="whatsapp://send?text=Exploratory&#43;data&#43;analysis&#43;of&#43;the&#43;Instacart&#43;Dataset%20http%3A%2F%2Flocalhost%3A1313%2Fproject%2Fadventureworks_excel_dashboard%2F"
    title="WhatsApp"
    aria-label="WhatsApp"
    id="share-link-whatsapp"
  >
    <svg style="height: 1em;" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256" fill="currentColor"><path d="m187.58 144.84-32-16a8 8 0 0 0-8 .5l-14.69 9.8a40.55 40.55 0 0 1-16-16l9.8-14.69a8 8 0 0 0 .5-8l-16-32A8 8 0 0 0 104 64a40 40 0 0 0-40 40 88.1 88.1 0 0 0 88 88 40 40 0 0 0 40-40 8 8 0 0 0-4.42-7.16ZM152 176a72.08 72.08 0 0 1-72-72 24 24 0 0 1 19.29-23.54l11.48 23L101 118a8 8 0 0 0-.73 7.51 56.47 56.47 0 0 0 30.15 30.15A8 8 0 0 0 138 155l14.61-9.74 23 11.48A24 24 0 0 1 152 176ZM128 24a104 104 0 0 0-91.82 152.88l-11.35 34.05a16 16 0 0 0 20.24 20.24l34.05-11.35A104 104 0 1 0 128 24Zm0 192a87.87 87.87 0 0 1-44.06-11.81 8 8 0 0 0-6.54-.67L40 216l12.47-37.4a8 8 0 0 0-.66-6.54A88 88 0 1 1 128 216Z"/></svg>
  </a>
  
</section>


  








  
  
    



  
  
  
    
  
  
  

<div class="flex pt-12 pb-4">
  
  
  <img
    class="mr-4 h-24 w-24 rounded-full"
    width="96"
    height="96"
    alt="Ayantika Khanra"
  src="/author/ayantika-khanra/avatar_hu_1373aa0bc9496f5c.jpg"
  loading="lazy"
  />
  
  <div class="place-self-center">
    <div class="text-[0.6rem] uppercase leading-3 text-neutral-500 dark:text-neutral-400">
      Authors
    </div>
    <div class="font-semibold leading-6 text-neutral-800 dark:text-neutral-300">
      <a href="http://localhost:1313/" class="no-underline">
      Ayantika Khanra
      </a>
    </div>

    
    <div class="text-sm font-bold text-neutral-700 dark:text-neutral-300">
    Data Analyst
    </div>
    


    

    <div class="text-2xl sm:text-lg pt-1">

      
<div class="flex flex-wrap text-neutral-500 dark:text-neutral-300">
  
    
    
    
    
    <a
      class="pr-2 transition-transform hover:scale-125 hover:text-primary-700 dark:hover:text-primary-400"
      style="will-change:transform;"
      href="mailto:ayantika.khanra3@gmail.com"
      
      aria-label="At-Symbol"
    ><svg style="height: 1em;" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-width="1.5" d="M16.5 12a4.5 4.5 0 1 1-9 0a4.5 4.5 0 0 1 9 0Zm0 0c0 1.657 1.007 3 2.25 3S21 13.657 21 12a9 9 0 1 0-2.636 6.364M16.5 12V8.25"/></svg></a>
  
    
    
    
    
      
    
    <a
      class="pr-2 transition-transform hover:scale-125 hover:text-primary-700 dark:hover:text-primary-400"
      style="will-change:transform;"
      href="https://www.linkedin.com/in/ayantika-khanra-144821277/"
      target="_blank" rel="noopener" rel="me noopener noreferrer"
      aria-label="Brands/Linkedin"
    ><svg style="height: 1em;" xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 448 512"><path fill="currentColor" d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"/></svg></a>
  
    
    
    
    
      
    
    <a
      class="pr-2 transition-transform hover:scale-125 hover:text-primary-700 dark:hover:text-primary-400"
      style="will-change:transform;"
      href="https://scholar.google.com/citations?hl=en&amp;user=4SDsZ6EAAAAJ"
      target="_blank" rel="noopener" rel="me noopener noreferrer"
      aria-label="Academicons/Google-Scholar"
    ><svg style="height: 1em;" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M343.759 106.662V79.43L363.524 64h-213.89L20.476 176.274h85.656a82.339 82.339 0 0 0-.219 6.225c0 20.845 7.22 38.087 21.672 51.861c14.453 13.797 32.252 20.648 53.327 20.648c4.923 0 9.75-.368 14.438-1.024c-2.907 6.5-4.374 12.523-4.374 18.142c0 9.875 4.499 20.43 13.467 31.642c-39.234 2.67-68.061 9.732-86.437 21.163c-10.531 6.5-19 14.704-25.39 24.531c-6.391 9.9-9.578 20.515-9.578 31.962c0 9.648 2.062 18.336 6.219 26.062c4.156 7.726 9.578 14.07 16.312 18.984c6.718 4.968 14.469 9.101 23.219 12.469c8.734 3.344 17.406 5.718 26.061 7.062A167.052 167.052 0 0 0 180.555 448c13.469 0 26.953-1.734 40.547-5.187c13.562-3.485 26.28-8.642 38.171-15.493c11.86-6.805 21.515-16.086 28.922-27.718c7.39-11.68 11.094-24.805 11.094-39.336c0-11.016-2.25-21.039-6.75-30.14c-4.468-9.073-9.938-16.542-16.452-22.345c-6.501-5.813-13-11.155-19.516-15.968c-6.5-4.845-12-9.75-16.468-14.813c-4.485-5.046-6.735-10.054-6.735-14.984c0-4.921 1.734-9.672 5.216-14.265c3.455-4.61 7.674-9.048 12.61-13.306c4.937-4.25 9.875-8.968 14.796-14.133c4.922-5.147 9.141-11.827 12.61-20.008c3.485-8.18 5.203-17.445 5.203-27.757c0-13.453-2.547-24.46-7.547-33.314c-.594-1.022-1.218-1.803-1.875-3.022l56.907-46.672v17.119c-7.393.93-6.624 5.345-6.624 10.635V245.96c0 5.958 4.875 10.834 10.834 10.834h3.989c5.958 0 10.833-4.875 10.833-10.834V117.293c0-5.277.778-9.688-6.561-10.63zm-107.36 222.48c1.14.75 3.704 2.78 7.718 6.038c4.05 3.243 6.797 5.695 8.266 7.414a443.553 443.553 0 0 1 6.376 7.547c2.813 3.375 4.718 6.304 5.718 8.734c1 2.477 2.016 5.461 3.047 8.946a38.27 38.27 0 0 1 1.485 10.562c0 17.048-6.564 29.68-19.656 37.859c-13.125 8.18-28.767 12.274-46.938 12.274c-9.187 0-18.203-1.093-27.063-3.196c-8.843-2.116-17.311-5.336-25.39-9.601c-8.078-4.258-14.577-10.204-19.5-17.797c-4.938-7.64-7.407-16.415-7.407-26.25c0-10.32 2.797-19.29 8.422-26.906c5.594-7.625 12.938-13.391 22.032-17.315c9.063-3.946 18.25-6.742 27.562-8.398a157.865 157.865 0 0 1 28.438-2.555c4.47 0 7.936.25 10.405.696c.455.219 3.032 2.07 7.735 5.563c4.704 3.462 7.625 5.595 8.75 6.384zm-3.359-100.579c-7.406 8.86-17.734 13.288-30.953 13.288c-11.86 0-22.298-4.764-31.266-14.312c-9-9.523-15.422-20.328-19.344-32.43c-3.937-12.109-5.906-23.984-5.906-35.648c0-13.694 3.596-25.352 10.781-34.976c7.187-9.65 17.5-14.485 30.938-14.485c11.875 0 22.374 5.038 31.437 15.157c9.094 10.085 15.61 21.413 19.517 33.968c3.922 12.54 5.873 24.53 5.873 35.984c0 13.446-3.702 24.61-11.076 33.454z"/></svg></a>
  
</div>



    </div>
  </div>
</div>



  




  
  
    
    
    
      
      
    
<div class="pt-1 no-prose w-full">
  <hr class="border-dotted border-neutral-300 dark:border-neutral-600" />
  <div class="flex flex-col md:flex-row flex-nowrap justify-between gap-5 pt-2">
    <div class="">
      
        <a class="group flex no-underline" href="/project/pharmacy_dashboard/">
          <span
            class="mt-[-0.3rem] me-2 text-neutral-700 transition-transform group-hover:-translate-x-[2px] group-hover:text-primary-600 dark:text-neutral dark:group-hover:text-primary-400"
          ><span class="ltr:inline rtl:hidden">&larr;</span></span>
          <span class="flex flex-col">
            <span
              class="mt-[0.1rem] leading-6 group-hover:underline group-hover:decoration-primary-500"
            >Dashboard for sales in a Pharmacy</span>
            <span class="mt-[0.1rem] text-xs text-neutral-500 dark:text-neutral-400">
              
                Apr 17, 2025
              
            </span>
          </span>
        </a>
      
    </div>
    <div class="">
      
        <a class="group flex text-right no-underline" href="/project/instacart_dataset_eda/">
          <span class="flex flex-col">
            <span
              class="mt-[0.1rem] leading-6 group-hover:underline group-hover:decoration-primary-500"
            >Exploratory data analysis of the Instacart Dataset</span
            >
            <span class="mt-[0.1rem] text-xs text-neutral-500 dark:text-neutral-400">
              
                Jan 1, 0001
              
            </span>
          </span>
          <span
            class="mt-[-0.3rem] ms-2 text-neutral-700 transition-transform group-hover:-translate-x-[2px] group-hover:text-primary-600 dark:text-neutral dark:group-hover:text-primary-400"
          ><span class="ltr:inline">&rarr;</span></span>
        </a>
      
    </div>
  </div>
</div>



  


  



</div>

      </div>

    </main>
  </article>
</div>

    </div>
    <div class="page-footer">
      
    </div>

    
    











  </body>
</html>
